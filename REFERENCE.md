# Reference
<!-- DO NOT EDIT: This document was generated by Puppet Strings -->

## Table of Contents

**Classes**

* [`baseline_cfg`](#baseline_cfg): Core set of things that apply to ALL nodes across the board (no exceptions)
* [`baseline_cfg::additional_packages`](#baseline_cfgadditional_packages): 
* [`baseline_cfg::additional_yumrepos`](#baseline_cfgadditional_yumrepos): Install additional yumrepos (specified in Hiera)
* [`baseline_cfg::email`](#baseline_cfgemail): Basic email setup
* [`baseline_cfg::firewall`](#baseline_cfgfirewall): Initial firewall configuration (suitable for K8S)
* [`baseline_cfg::firewall::post`](#baseline_cfgfirewallpost): Default firewall post rule, Drop all
* [`baseline_cfg::firewall::pre`](#baseline_cfgfirewallpre): Basic firewall setup
* [`baseline_cfg::lvm`](#baseline_cfglvm): Create and manage LVMs (and file systems) using lvm module.
* [`baseline_cfg::motd`](#baseline_cfgmotd): Configure motd
* [`baseline_cfg::networkmanager`](#baseline_cfgnetworkmanager): Start or Stop NetworkManager service
* [`baseline_cfg::vmware`](#baseline_cfgvmware): Manage settings related to virtual machines, e.g. vmware
* [`baseline_cfg::yum`](#baseline_cfgyum): Configure yum.conf

## Classes

### baseline_cfg

Core set of things that apply to ALL nodes across the board (no exceptions)

* **See also**
https://github.com/lsst-it/puppet-baseline_cfg

#### Examples

##### 

```puppet
include baseline_cfg
```

### baseline_cfg::additional_packages

The baseline_cfg::additional_packages class.

#### Parameters

The following parameters are available in the `baseline_cfg::additional_packages` class.

##### `pkg_list`

Data type: `Hash`



### baseline_cfg::additional_yumrepos

Install additional yumrepos (specified in Hiera)

#### Examples

##### 

```puppet
baseline_cfg::additional_yumrepos:repo_list:
  'rsyslog-v8':
    baseurl: http://rpms.adiscon.com/v8-stable/epel-$releasever/$basearch
    descr: rsyslog official repo
    gpgcheck: true
    gpgkey: http://rpms.adiscon.com/RPM-GPG-KEY-Adiscon
```

##### 

```puppet
include baseline_cfg::additional_yumrepos
```

#### Parameters

The following parameters are available in the `baseline_cfg::additional_yumrepos` class.

##### `repo_list`

Data type: `Hash`

Hash of (yumrepo configs) to create
Hash key will be used as the yumrepo 'resource_title'
Hash value must be a Hash of valid yumrepo attributes
  If 'ensure' is not provided, it will default to 'present'
  If 'enabled' is not provided, it will default to true

### baseline_cfg::email

Basic email setup

#### Examples

##### 

```puppet
include baseline_cfg::email
```

#### Parameters

The following parameters are available in the `baseline_cfg::email` class.

##### `required_pkgs`

Data type: `Array[ String[1] ]`



##### `canonical_aliases`

Data type: `String`



##### `virtual_aliases`

Data type: `String`



##### `mydomain`

Data type: `String[1]`



##### `relayhost`

Data type: `String[1]`



### baseline_cfg::firewall

Initial firewall configuration (suitable for K8S)

#### Examples

##### 

```puppet
include baseline_cfg::firewall
```

### baseline_cfg::firewall::post

Default firewall post rule, Drop all

#### Examples

##### 

```puppet
include baseline_cfg::firewall::post
```

### baseline_cfg::firewall::pre

Basic firewall setup

#### Examples

##### 

```puppet
include baseline_cfg::firewall::pre
```

### baseline_cfg::lvm

This could include:
  - LVMs that were created in VGsystem by xCAT
  - LVMs that first created manually
  - LVMs that are created new by Puppet

#### Examples

##### 

```puppet
include baseline_cfg::lvm
```

#### Parameters

The following parameters are available in the `baseline_cfg::lvm` class.

##### `default_fs_type`

Data type: `String`

String
WARNING: default = xfs via data-in-module for this. Overrides default of ext4 from ::lvm module.
It would be better to not have a default (it's very dangerous, because if you don't specify the
fs_type and your existing LVM has a different type, it seems that it would reformat the fs. But
since the ::lvm module already has a default, let's override it with a better one for the LSST
environment.

##### `lvms`

Data type: `Hash[ String[1], Hash ]`

Hash
Key-value pairs used to declare ::lvm::logical_volume resources. Lookup is merge, but not deep.
Form:
  keys = names of LVM resources (String)
  values = params for LVM resources (Hash)
BE VERY CAREFUL WITH WHAT YOU PUT IN HIERA FOR THIS CLASS/PARAMETER!
This is especially the case for LVMs that already exist (created manually or via xCAT). To
manage an existing LVM you'll need to minimally specify:
  - mountpath
  - volume_group
But make sure that the fs_type is/should be xfs otherwise override that as well. And be careful
if you specify size. You can often grow the LVM and its filesystem but generally cannot shrink
the filesystem. (The lvm module seems to error and refuse to try, which is good. But be
careful!
It's intended for Hiera to do a hash merge but NOT a deep merge of the lvms param. This is
so we intentionally and clearly specify all required parameters at each level just to be safe.
NOTE: If you use this class to start managing an existing (definitely an xCAT-deployed) LVM
it will likely insist on cleaning up your mount in fstab, e.g.,:
  Notice: /Stage[main]/Stdcfg::Lvm/Lvm::Logical_volume[LVvar]/Mount[/var]/device:
    device changed '/dev/mapper/VGsystem-LVvar' to '/dev/VGsystem/LVvar'
  Notice: /Stage[main]/Stdcfg::Lvm/Lvm::Logical_volume[LVvar]/Mount[/var]/pass: pass changed '0' to '2'
This should not cause an actual remount.

### baseline_cfg::motd

Configure motd

#### Examples

##### 

```puppet
include baseline_cfg::motd
```

#### Parameters

The following parameters are available in the `baseline_cfg::motd` class.

##### `next_maintenance`

Data type: `Array[String]`

tuple with two date stamps, e.g., '2017-10-19T08:00:00'
first element may be 'none' to prevent information about
next maintenance from showing (e.g., if next maintenance is distant)

##### `next_maintenance_timezone`

Data type: `String`

timezone used for next_maintenance

##### `next_maintenance_details`

Data type: `String`

more details about next_maintenance

##### `notice`

Data type: `String`

An additional message to add to the end of the motd

### baseline_cfg::networkmanager

Start or Stop NetworkManager service

#### Parameters

The following parameters are available in the `baseline_cfg::networkmanager` class.

##### `ensure`

Data type: `String`



##### `enable`

Data type: `Boolean`



##### `service_name`

Data type: `String`



### baseline_cfg::vmware

Manage settings related to virtual machines, e.g. vmware

#### Examples

##### 

```puppet
include baseline_cfg::vmware
```

#### Parameters

The following parameters are available in the `baseline_cfg::vmware` class.

##### `packages`

Data type: `Array[ String[1] ]`



##### `services`

Data type: `Array[ String[1] ]`



### baseline_cfg::yum

Configure yum.conf

#### Examples

##### 

```puppet
include baseline_cfg::yum
```

